# 1.JDBC 이해

## 1.1 사용된 프로젝트 의존성

- JDBC API
- H2 DataBase
- Lombok

```bash
//build.gradle
	//테스트에서 롬복 사용.
	testCompileOnly 'org.projectlombok:lombok'
	testAnnotationProcessor 'org.projectlombok:lombok'
```

맥인 경우 h2에 실행권한을 줘야함.

```bashs
// h2/bin에서
chmod 755 h2.sh
./h2.sh
```
## 1.2 JDBC 등장 이유

과거에는 각 db마다 스펙(디비와 커넥션 방법, sql전달방법, 결과 응답 방법 등)이 달랐음.

만약 데이터베이스를 변경한다하면 애플리케이션 서버에 개발된 데이터베이스 사용 코드도 함께 변경해야했음.

그래서 개발자는 각각의 데이터베이스마다 커넥션 연결, sql전달, 결과 응답 방법을 새로 습득해야했음.

그래서 등장한게 자바 표준인 JDBC

![](../img/jdbc_info.png)

추상화해서 만들어서 표준 인터페이스를 정의해서 제공.

따라서 개발자는 이 표준 인터페이스만 사용해서 개발하면 됨.

----

#### JDBC 드라이버?

각 DB벤더에서 자신의 db에 맞도록 구현해서 라이브러리로 제공하는데, 이를 JDBC 드라이버 

예시로 Oracle DB에 접근할 수 있는 것은 Oracle JDBC Drvier라고 한다.

----

- 따라서 필요할 경우 JDBC 구현 라이브러리만 변경하면 다른 종류의 DB로 변경해도 애플리케이션 서버의 사용 코드를 그대로 유지할 수 있다.

- 그리고 JDBC 표준 인터페이스만 학습하면 여러 DB에 대한 학습 부담을 줄일 수 있음.

-----
#### JDBC의 한계

DB마다 SQL, 데이터 타입 등의 일부 사용법이 다른데, 일반적인 부분만 공통화 했기 때문에 한계가 있음.
결국 데이터베이스를 변경하면 JDBC 코드는 변경하지 않아도 되지만 SQL은 해당 데이터베이스에 맞도록 변경해야 함.
JPA를 사용하면 다른 SQL을 정의해야 하는 문제도 많은 부분 해결할 수 있음.

-----

## 1.3 JDBC와 최신 데이터 접근 기술

JDBC는 나온지 오래된 기술이므로 현재는 편리하게 사용하는 다양한 방법이 존재한다.

- SQL Mapper
  ![](../img/sqlmapper.png)
  - JDBC를 편리하게 사용할수 있도록 도와주지만, 개발자가 SQL을 직접 작성해야함.
- ORM
  ![](../img/orm.png)
  - ORM은 객체를 관계형데이터베이스 테이블과 매핑해주는 기술.
  - 때문에 개발자는 반복적인 SQL을 직접 작성하지 않고, 동적으로 SQL을 만들어 실행해준다.

-----
#### SQL Mapper vs ORM

SQL Mapper는 SQL만 직접 작성하면 Mapper가 나머지는 대신해줌. 즉, SQL만 작성할 줄 알면 금방 적용이 가능함.

ORM은 SQL을 직접 작성 하지 않아도 되지만 쉬운 기술이 아니기에 깊이있게 학습을 해야한다.

-----

결국 이런 기술들도 내부에서 JDBC를 사용하기에 JDBC를 직접 사용하지 않더라도 JDBC가 어떻게 동작하는지 기본 원리를 알아둬야한다.!!

**즉, JDBC는 자바개잘자라면 꼭 알아둬야하는 필수 기본 기술이라고 한다.**

그 전에 low단에서 어떻게 돌아가는지 알아야 하기 때문에 직접 사용해보는 실습을 한다.


